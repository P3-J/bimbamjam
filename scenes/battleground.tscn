[gd_scene load_steps=13 format=4 uid="uid://hog128paq7cv"]

[ext_resource type="Script" uid="uid://cwu5cf7a0awcd" path="res://addons/func_godot/src/map/func_godot_map.gd" id="1_2fp3l"]
[ext_resource type="Script" uid="uid://cesbadblti0n4" path="res://scripts/Battleground.cs" id="1_vnb4m"]
[ext_resource type="Resource" uid="uid://bkhxcqsquw1yg" path="res://addons/func_godot/func_godot_default_map_settings.tres" id="2_v55xa"]
[ext_resource type="Material" uid="uid://cunhc531hwa0e" path="res://textures/128x128/Metal/Metal_19-128x128.tres" id="3_v55xa"]
[ext_resource type="PackedScene" uid="uid://bpcmk0higwelb" path="res://scenes/player.tscn" id="4_v55xa"]
[ext_resource type="Shader" uid="uid://cuyt0andxag1k" path="res://shader/battleground.gdshader" id="5_i5qts"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_v55xa"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_i5qts"]
sky_material = SubResource("ProceduralSkyMaterial_v55xa")

[sub_resource type="Environment" id="Environment_vnb4m"]
background_mode = 2
sky = SubResource("Sky_i5qts")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ArrayMesh" id="ArrayMesh_i5qts"]
_surfaces = [{
"aabb": AABB(-8.25, -0.5001221, -9.75, 43.75, 1.0001221, 88.5),
"attribute_data": PackedByteArray("AAAOwQAAAL4AAARAAAAAvgAABEAACAA+AAAOwQAIAD4AgJ1BAAgAPgAAHMAACAA+AAAcwAAAAL4AgJ1BAAAAvgCAncEAAARAAICdwQAADsEAABxAAAAOwQAAHEAAAARAAICdQQAABEAAABzAAAAEQAAAHMAAAA7BAICdQQAADsEAgJ3BAAAAvgAAHEAAAAC+AAAcQAAIAD4AgJ3BAAgAPgAADkEACAA+AAAEwAAIAD4AAATAAAAAvgAADkEAAAC+"),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAACAAMABAAFAAYABAAGAAcACAAJAAoACAAKAAsADAANAA4ADAAOAA8AEAARABIAEAASABMAFAAVABYAFAAWABcA"),
"material": ExtResource("3_v55xa"),
"name": "128x128/Metal/Metal_19-128x128",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("AAAOQgAAAD8AABzBAAAEwQAAAD8AABzBAAAEwQAIAL8AABzBAAAOQgAIAL8AABzBAAAEwQAIAL8AgJ1CAAAEwQAIAL8AABzBAAAEwQAAAD8AABzBAAAEwQAAAD8AgJ1CAAAEwQAAAL8AgJ1CAAAOQgAAAL8AgJ1CAAAOQgAAAL8AABzBAAAEwQAAAL8AABzBAAAEwQAAAD8AgJ1CAAAEwQAAAD8AABzBAAAOQgAAAD8AABzBAAAOQgAAAD8AgJ1CAAAOQgAAAD8AgJ1CAAAOQgAAAD8AABzBAAAOQgAIAL8AABzBAAAOQgAIAL8AgJ1CAAAOQgAIAL8AgJ1CAAAEwQAIAL8AgJ1CAAAEwQAAAD8AgJ1CAAAOQgAAAD8AgJ1C/////wAA/7//////AAD/v/////8AAP+//////wAA/78AAP9//3//vwAA/3//f/+/AAD/f/9//78AAP9//3//v/9/AAD//////38AAP//////fwAA//////9/AAD//////3////9//7//f////3//v/9/////f/+//3////9//7////9//////////3//////////f/////////9///////9//3////+//3//f////7//f/9/////v/9//3////+/")
}]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_vnb4m"]
points = PackedVector3Array(35.5, 0.5, 78.75, 35.5, -0.5, 78.75, -8.25, 0.5, 78.75, -8.25, -0.5, 78.75, 35.5, 0.5, -9.75, 35.5, -0.5, -9.75, -8.25, 0.5, -9.75, -8.25, -0.5, -9.75)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i5qts"]
shader = ExtResource("5_i5qts")
shader_parameter/overlay = false
shader_parameter/scanlines_opacity = 0.0910000043225
shader_parameter/scanlines_width = 0.04800000228
shader_parameter/grille_opacity = 0.294000013965
shader_parameter/resolution = Vector2(640, 480)
shader_parameter/pixelate = true
shader_parameter/roll = true
shader_parameter/roll_speed = 8.0
shader_parameter/roll_size = 15.0
shader_parameter/roll_variation = 1.8
shader_parameter/distort_intensity = 0.05
shader_parameter/noise_opacity = 0.4
shader_parameter/noise_speed = 5.0
shader_parameter/static_noise_intensity = 0.06
shader_parameter/aberration = 0.03
shader_parameter/brightness = 1.4
shader_parameter/discolor = true
shader_parameter/warp_amount = 0.202000009595
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 0.5

[node name="battleground" type="Node3D" node_paths=PackedStringArray("p1hpbar", "p2hpbar")]
script = ExtResource("1_vnb4m")
p1hpbar = NodePath("Camera3D/ui/p1bar")
p2hpbar = NodePath("Camera3D/ui/p2bar")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vnb4m")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="FuncGodotMap" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.139052, 0, -49.222446)
script = ExtResource("1_2fp3l")
local_map_file = "uid://c2w00rrckds5s"
map_settings = ExtResource("2_v55xa")
metadata/_custom_type_script = "uid://cwu5cf7a0awcd"

[node name="entity_0_worldspawn" type="StaticBody3D" parent="FuncGodotMap"]
collision_mask = 0

[node name="entity_0_mesh_instance" type="MeshInstance3D" parent="FuncGodotMap/entity_0_worldspawn"]
mesh = SubResource("ArrayMesh_i5qts")

[node name="entity_0_brush_0_collision_shape" type="CollisionShape3D" parent="FuncGodotMap/entity_0_worldspawn"]
shape = SubResource("ConvexPolygonShape3D_vnb4m")

[node name="player" parent="." instance=ExtResource("4_v55xa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.0156555, 5.270628)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.6946584, 0.7193398, 0, -0.7193398, 0.6946584, -0.18250704, 15.732254, 11.530456)

[node name="ColorRect" type="ColorRect" parent="Camera3D"]
visible = false
material = SubResource("ShaderMaterial_i5qts")
offset_right = 1168.0
offset_bottom = 648.0

[node name="ui" type="Control" parent="Camera3D"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="p1bar" type="ProgressBar" parent="Camera3D/ui"]
layout_mode = 0
offset_left = 80.0
offset_top = 96.0
offset_right = 368.0
offset_bottom = 144.0
max_value = 10.0
value = 10.0

[node name="p2bar" type="ProgressBar" parent="Camera3D/ui"]
layout_mode = 0
offset_left = 800.0
offset_top = 96.0
offset_right = 1088.0
offset_bottom = 144.0
max_value = 10.0
value = 10.0

[node name="player2" parent="." instance=ExtResource("4_v55xa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.741029, 6.0156555, 5.270628)
isPlayerOne = false
