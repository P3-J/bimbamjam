[gd_scene load_steps=19 format=4 uid="uid://hog128paq7cv"]

[ext_resource type="Script" uid="uid://cwu5cf7a0awcd" path="res://addons/func_godot/src/map/func_godot_map.gd" id="1_2fp3l"]
[ext_resource type="Script" uid="uid://cesbadblti0n4" path="res://scripts/Battleground.cs" id="1_vnb4m"]
[ext_resource type="Resource" uid="uid://bkhxcqsquw1yg" path="res://addons/func_godot/func_godot_default_map_settings.tres" id="2_v55xa"]
[ext_resource type="PackedScene" uid="uid://bpcmk0higwelb" path="res://scenes/player.tscn" id="4_v55xa"]
[ext_resource type="Material" uid="uid://cbop0vdkw0505" path="res://textures/128x128/Brick/Brick_10-128x128.tres" id="4_vnb4m"]
[ext_resource type="Shader" uid="uid://cuyt0andxag1k" path="res://shader/battleground.gdshader" id="5_i5qts"]
[ext_resource type="PackedScene" uid="uid://4huyutp7p6cy" path="res://scenes/12268_banjofrog_v_1_l_3.tscn" id="7_5t2ls"]

[sub_resource type="Environment" id="Environment_walpe"]
background_mode = 1
background_energy_multiplier = 0.14
tonemap_mode = 2
glow_enabled = true
glow_intensity = 3.25
fog_light_color = Color(1, 1, 1, 1)
fog_light_energy = 0.01
fog_height = -363.61
fog_height_density = 1.2883
fog_depth_curve = 3.4822047
volumetric_fog_density = 0.01

[sub_resource type="ArrayMesh" id="ArrayMesh_5t2ls"]
_surfaces = [{
"aabb": AABB(-16.75, -92.65625, -20.75, 33.5, 99.15625, 33.5),
"attribute_data": PackedByteArray("AgAAQPv/f78CAABAAACwQQAAAMAAALBBAAAAwPv/f7/0BDW/+/9/v7bDB0D7/3+/tsMHQAAAsEH0BDW/AACwQWwCDj/7/3+/bAIOPwAAsEG/QEPAAACwQb9AQ8D7/3+/AgCAPwAAsEEW/v+/AACwQRb+/7/7/3+/AgCAP/v/f7///59AAgAAQAQAAEAAAIBA+/9/vwAAgED//z/A/v//P///P8ABAADABACAvwAAgMAAAEBAAACAwP//n0AAAADABACAPwAAgMD//z9AAQAAwP//P0D+//8/+/9/PwAAgEAEAADAAACAQP//n8ACAABA//+fwAAAAMAAAEDAAACAwAQAgL/7/3+/AABAQPv/f78AAEBAAACwQQQAgL8AALBB8gQ1PwAAsEG2wwfAAACwQbbDB8D7/3+/8gQ1P/v/f7+2wwdAAACwQfIENb8AALBB8gQ1v/v/f7+2wwdA+/9/vwIAAEAAALBBAgAAwAAAsEECAADA+/9/vwIAAED7/3+/AgAAQJQkib8CAABAAACwQQAAAMAAALBBAAAAwJQkib/xBDW/lCSJv7fDB0CUJIm/t8MHQAAAsEHxBDW/AACwQb4CDj+UJIm/vgIOPwAAsEGsQEPAAACwQaxAQ8CUJIm//f9/PwAAsEEAAADAAACwQQAAAMCUJIm//f9/P5Qkib8AAKBAAgAAQAEAAEAAAIBAAACAvwAAgEABAEDAAAAAQAEAQMAAAADAAACAvwAAgMAAAEBAAACAwAAAoEAAAADASZKEwCRJkr+TJAnAkyRJwNq27T+TJEnAbtt2QCZJkr9u23ZA3bbtP+K27T+3bZtAkSQJwLdtm0BJkoTAb9s2QAAAgL+UJIm/AABAQJQkib8AAEBAAACwQQAAgL8AALBB9QQ1PwAAsEG3wwfAAACwQbfDB8CUJIm/9QQ1P5Qkib+3wwdAAACwQfMENb8AALBB8wQ1v5Qkib+3wwdAlCSJvwAAAEAAALBBAwAAwAAAsEEDAADAlCSJvwAAAECUJIm/"),
"format": 34359742487,
"index_count": 168,
"index_data": PackedByteArray("AAABAAIAAAACAAMABAAFAAYABAAGAAcACAAJAAoACAAKAAsADAANAA4ADAAOAA8AEAARABIAEAASABMAEAATABQAEAAUABUAEAAVABYAEAAWABcAGAAZABoAGAAaABsAGAAbABwAGAAcAB0AGAAdAB4AGAAeAB8AIAAhACIAIAAiACMAJAAlACYAJAAmACcAKAApACoAKAAqACsALAAtAC4ALAAuAC8AMAAxADIAMAAyADMANAA1ADYANAA2ADcAOAA5ADoAOAA6ADsAPAA9AD4APAA+AD8AQABBAEIAQABCAEMAQABDAEQAQABEAEUAQABFAEYAQABGAEcASABJAEoASABKAEsASABLAEwASABMAE0ASABNAE4ASABOAE8AUABRAFIAUABSAFMAVABVAFYAVABWAFcAWABZAFoAWABaAFsAXABdAF4AXABeAF8A"),
"material": ExtResource("4_vnb4m"),
"name": "128x128/Brick/Brick_10-128x128",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 96,
"vertex_data": PackedByteArray("AgAGwQAAakAAAKbBAgAGwQBQucIAAKbBAAAGQQBQucIAAKbBAAAGQQAAakAAAKbBAACGQQAAakAAAEbBAAAGQQAAakAAAKbBAAAGQQBQucIAAKbBAACGQQBQucIAAEbBAACGwQAAakCA/wLBAACGwQBQucKA/wLBAAAGwQBQucLA/6XBAAAGwQAAakDA/6XBAACGwQBQucICAIxAAACGwQBQucIA/wLBAACGwQAAakAA/wLBAACGwQAAakACAIxAAgAGwQBQucIAAKbBAACGwQBQucIEAAPBAACGwQBQucL+/4tA//8FwQBQucIAAExBAQAGQQBQucIAAExBAACGQQBQucIEAIxAAACGQQBQucIAAEbBAAAGQQBQucIAAKbBAACGQQAAakAEAIxAAQAGQQAAakAAAExB//8FwQAAakAAAExBAACGwQAAakD+/4tAAACGwQAAakAEAAPBAgAGwQAAakAAAKbBAAAGQQAAakAAAKbBAACGQQAAakAAAEbBAACGQQAAakAEAIxAAACGQQAAakAAAEbBAACGQQBQucIAAEbBAACGQQBQucIEAIxAAAAGwQBQucIAAExBAACGwQBQucIAAIxAAACGwQAAakAAAIxAAAAGwQAAakAAAExBAACGQQBQucIAAIxAAAAGQQBQucIAAExBAAAGQQAAakAAAExBAACGQQAAakAAAIxAAgAGQQBQucIAAExBAgAGwQBQucIAAExBAgAGwQAAakAAAExBAgAGQQAAakAAAExBAgDgwAAA0EAAAIjBAgDgwACAlMIAAIjBAADgQACAlMIAAIjBAADgQAAA0EAAAIjBAABgQQAA0EAAACDBAADgQAAA0EAAAIjBAADgQACAlMIAAIjBAABgQQCAlMIAACDBAABgwQAA0ED+/s/AAABgwQCAlML+/s/AAADgwACAlMLA/4fBAADgwAAA0EDA/4fBAABgwQCAlML8/39AAABgwQCAlMIAANDAAABgwQAA0EAAANDAAABgwQAA0ED8/39AAgDgwACAlMIAAIjBAABgwQCAlMICANDAAABgwQCAlMIAAIBAAADgwACAlMIAADBBAADgQACAlMIAADBBAABgQQCAlMIAAIBAAABgQQCAlMIAACDBAADgQACAlMIAAIjBAABgQQAA0EAAAIBAAADgQAAA0EAAADBBAADgwAAA0EAAADBBAABgwQAA0EAAAIBAAABgwQAA0EACANDAAgDgwAAA0EAAAIjBAADgQAAA0EAAAIjBAABgQQAA0EAAACDBAABgQQAA0EAAAIBAAABgQQAA0EAAACDBAABgQQCAlMIAACDBAABgQQCAlMIAAIBA///fwACAlMIAADBBAABgwQCAlMIAAIBAAABgwQAA0EAAAIBA///fwAAA0EAAADBBAABgQQCAlMIAAIBAAADgQACAlMIAADBBAADgQAAA0EAAADBBAABgQQAA0EAAAIBAAADgQACAlMIAADBBBADgwACAlMIAADBBBADgwAAA0EAAADBBAADgQAAA0EAAADBB/////wAA/7//////AAD/v/////8AAP+//////wAA/7////+/AAD/3////78AAP/f////vwAA/9////+/AAD/3wAAMrPMTP+/AAAys8xM/78AADKzzEz/vwAAMrPMTP+/AAD/f/9//78AAP9//3//vwAA/3//f/+/AAD/f/9//7//fwAA//////9/AAD//////38AAP//////fwAA//////9/AAD//////38AAP//////fwAA//////9/AAD//////3////9//7//f////3//v/9/////f/+//3////9//7//f////3//v/9/////f/+//3////9//7//f////3//v////3//////////f/////////9//////////3///////z//f/+//7//P/9//7//v/8//3//v/+//z//f/+//7//v/9/////3/+//3/////f/7//f////9//v/9/////3/9//3////+//3//f////7//f/9/////v/9//3////+//////wAA/7//////AAD/v/////8AAP+//////wAA/7////+/AAD/3////78AAP/f////vwAA/9////+/AAD/3wAAMrPMTP+/AAAys8xM/78AADKzzEz/vwAAMrPMTP+/AAD/f/9//78AAP9//3//vwAA/3//f/+/AAD/f/9//7//fwAA//////9/AAD//////38AAP//////fwAA//////9/AAD//////38AAP//////fwAA//////9/AAD//////3///wAA/7//f///AAD/v/9///8AAP+//3///wAA/7//f///AAD/v/9///8AAP+//3///wAA/7//f///AAD/v////3//////////f/////////9//////////3///////z//f/+//7//P/9//7//v/8//3//v/+//z//f/+//7//v/9/////3/+//3/////f/7//f////9//v/9/////3/9//3////+//3//f////7//f/9/////v/9//3////+/")
}]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_walpe"]
points = PackedVector3Array(8.375, 3.65625, 12.749999, 8.375, -92.65625, 12.749999, -8.375, 3.65625, 12.749999, -8.375, -92.65625, 12.749999, 16.75, 3.65625, 4.3750005, 16.75, -92.65625, 4.3750005, -16.75, 3.65625, 4.3750005, -16.75, -92.65625, 4.3750005, 16.75, 3.65625, -12.375, 16.75, -92.65625, -12.375, -16.75, 3.6562502, -8.1875, -8.375001, 3.6562498, -20.750002, 8.375, 3.65625, -20.75, -16.75, -92.65625, -8.1875, -8.375001, -92.65625, -20.750002, 8.375, -92.65625, -20.75)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_60gfh"]
points = PackedVector3Array(7.000001, 6.4999995, 11, 7.000001, -74.25, 11, -7.000001, 6.4999995, 11, -7.000001, -74.25, 11, 14.000001, 6.4999995, 4.0000005, 14.000001, -74.25, 4.0000005, -14.000001, 6.4999995, 4.0000005, -14.000001, -74.25, 4.0000005, 14.000001, 6.4999995, -9.999999, 14.000001, -74.25, -9.999999, -14, 6.5, -6.499999, -7, 6.5, -17, 6.9999995, 6.4999995, -17, -14, -74.25, -6.499999, -7, -74.25, -17, 6.9999995, -74.25, -17)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i5qts"]
shader = ExtResource("5_i5qts")
shader_parameter/overlay = false
shader_parameter/scanlines_opacity = 0.4
shader_parameter/scanlines_width = 0.25
shader_parameter/grille_opacity = 0.3
shader_parameter/resolution = Vector2(640, 480)
shader_parameter/pixelate = false
shader_parameter/roll = true
shader_parameter/roll_speed = 8.0
shader_parameter/roll_size = 0.10000000475
shader_parameter/roll_variation = 0.48400001973012
shader_parameter/distort_intensity = 0.010000000475
shader_parameter/noise_opacity = 0.0
shader_parameter/noise_speed = 5.0
shader_parameter/static_noise_intensity = 0.010000000475
shader_parameter/aberration = 0.03
shader_parameter/brightness = 1.4
shader_parameter/discolor = true
shader_parameter/warp_amount = 0.10000000475
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 0.5

[sub_resource type="Animation" id="Animation_5t2ls"]
resource_name = "rotate"
length = 30.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("rot:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 29.966667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -1.7484555e-07, 0), Vector3(0, 6.2831855, 0)]
}

[sub_resource type="Animation" id="Animation_walpe"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("rot:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, -1.7484555e-07, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_60gfh"]
_data = {
&"RESET": SubResource("Animation_walpe"),
&"rotate": SubResource("Animation_5t2ls")
}

[sub_resource type="Animation" id="Animation_h0efe"]
resource_name = "move"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control/ColorRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, -128), Vector2(0, -64)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Control/ColorRect2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 720), Vector2(0, 656)]
}

[sub_resource type="Animation" id="Animation_60gfh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control/ColorRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, -64)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Control/ColorRect2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 720)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bkg3l"]
_data = {
&"RESET": SubResource("Animation_60gfh"),
&"move": SubResource("Animation_h0efe")
}

[node name="battleground" type="Node3D" node_paths=PackedStringArray("p1hpbar", "p2hpbar")]
script = ExtResource("1_vnb4m")
p1hpbar = NodePath("Camera3D/ui/p1bar")
p2hpbar = NodePath("Camera3D/ui/p2bar")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.9716922, -0.15490226, 0.17838076, -0.13310404, 0.26486045, 0.9550561, -0.19518633, -0.9517637, 0.2367447, 0, 0, 0)
visible = false
light_color = Color(1, 0.85882354, 1, 1)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_walpe")

[node name="FuncGodotMap" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.139052, -3.9535675, -36.600266)
script = ExtResource("1_2fp3l")
local_map_file = "uid://c2w00rrckds5s"
map_settings = ExtResource("2_v55xa")
metadata/_custom_type_script = "uid://cwu5cf7a0awcd"

[node name="entity_0_worldspawn" type="StaticBody3D" parent="FuncGodotMap"]
collision_mask = 0

[node name="entity_0_mesh_instance" type="MeshInstance3D" parent="FuncGodotMap/entity_0_worldspawn"]
mesh = SubResource("ArrayMesh_5t2ls")

[node name="entity_0_brush_0_collision_shape" type="CollisionShape3D" parent="FuncGodotMap/entity_0_worldspawn"]
shape = SubResource("ConvexPolygonShape3D_walpe")

[node name="entity_0_brush_1_collision_shape" type="CollisionShape3D" parent="FuncGodotMap/entity_0_worldspawn"]
shape = SubResource("ConvexPolygonShape3D_60gfh")

[node name="player2" parent="." instance=ExtResource("4_v55xa")]
transform = Transform3D(-0.027223792, 0, -0.9996294, 0, 1, 0, 0.9996294, 0, -0.027223792, -1.3237495, 6.0156555, -38.77819)
isPlayerOne = false

[node name="player" parent="." instance=ExtResource("4_v55xa")]
transform = Transform3D(0.07638834, 0, 0.9970781, 0, 1, 0, -0.9970781, 0, 0.07638834, -22.385365, 6.0156555, -39.09586)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.7298641, 0.6835924, 0, -0.6835924, 0.7298641, -11.018215, 34.653103, -5.142506)
fov = 36.3
size = 15.0

[node name="ColorRect" type="ColorRect" parent="Camera3D"]
material = SubResource("ShaderMaterial_i5qts")
offset_right = 1280.0
offset_bottom = 720.0

[node name="ui" type="Control" parent="Camera3D"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="p1bar" type="ProgressBar" parent="Camera3D/ui"]
layout_mode = 0
offset_left = 8.0
offset_top = 72.0
offset_right = 80.0
offset_bottom = 99.0
max_value = 10.0
value = 10.0

[node name="p2bar" type="ProgressBar" parent="Camera3D/ui"]
layout_mode = 0
offset_left = 1200.0
offset_top = 72.0
offset_right = 1272.0
offset_bottom = 99.0
max_value = 10.0
value = 10.0

[node name="stuff" type="Node3D" parent="."]

[node name="SpotLight3D" type="SpotLight3D" parent="stuff"]
transform = Transform3D(0.9996686, 0.005636296, 0.025119385, -0.025180517, 0.011050745, 0.99962187, 0.0053565768, -0.99992305, 0.011189007, -13.916538, 27.08028, -29.941275)
light_color = Color(0.883378, 0.88337797, 0.88337797, 1)
light_energy = 11.703
shadow_enabled = true
spot_range = 50.897
spot_attenuation = 0.89
spot_angle = 69.41

[node name="rot" type="Node3D" parent="stuff"]
transform = Transform3D(0.99999994, 0, -1.7484554e-07, 0, 1, 0, 1.7484554e-07, 0, 0.99999994, -10.310839, -7.7436476, -39.127113)

[node name="12268_banjofrog_v1_L3" parent="stuff/rot" instance=ExtResource("7_5t2ls")]
transform = Transform3D(2.9999998, 0, 7.1054274e-15, 0, 0.4609754, 2.9643722, 0, -2.964372, 0.46097538, -0.80808735, 4.710847, -41.245697)

[node name="12268_banjofrog_v1_L4" parent="stuff/rot" instance=ExtResource("7_5t2ls")]
transform = Transform3D(-2.9999998, 4.4765497e-07, -6.930065e-08, 0, 0.4589575, 2.9646852, 4.529874e-07, 2.964685, -0.45895746, -0.80807304, 2.8167734, 38.266197)

[node name="12268_banjofrog_v1_L5" parent="stuff/rot" instance=ExtResource("7_5t2ls")]
transform = Transform3D(0.046859838, -2.9643233, 0.45890036, 2.6645283e-15, 0.4589564, 2.9646852, -2.9996336, -0.046308324, 0.0071688904, -35.23401, 7.7000074, -0.745697)

[node name="12268_banjofrog_v1_L6" parent="stuff/rot" instance=ExtResource("7_5t2ls")]
transform = Transform3D(0.014556097, 2.9646502, -0.45895097, 2.664528e-15, 0.45895642, 2.9646854, 2.9999642, -0.014384728, 0.0022268724, 35.400566, 7.7000074, -0.74570847)

[node name="frogrotate" type="AnimationPlayer" parent="stuff/rot"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_60gfh")
}
autoplay = "rotate"

[node name="Control" type="Control" parent="stuff"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="fightstart" type="AnimationPlayer" parent="stuff/Control"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_bkg3l")
}
autoplay = "move"

[node name="ColorRect" type="ColorRect" parent="stuff/Control"]
layout_mode = 0
offset_top = -64.0
offset_right = 1280.0
offset_bottom = 64.0
color = Color(0, 0, 0, 1)

[node name="ColorRect2" type="ColorRect" parent="stuff/Control"]
layout_mode = 0
offset_top = 720.0
offset_right = 1280.0
offset_bottom = 848.0
color = Color(0, 0, 0, 1)
